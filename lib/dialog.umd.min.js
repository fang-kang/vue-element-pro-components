/* * Copyright © 2022-2022 fangkang * Released under the MIT License. */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).dialog=t()}(this,(function(){"use strict";function e(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function t(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}var o=function(e,t,o,n,i,l,s,r,c,a){"boolean"!=typeof s&&(c=r,r=s,s=!1);var u,d="function"==typeof o?o.options:o;if(e&&e.render&&(d.render=e.render,d.staticRenderFns=e.staticRenderFns,d._compiled=!0,i&&(d.functional=!0)),n&&(d._scopeId=n),l?(u=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),t&&t.call(this,c(e)),e&&e._registeredComponents&&e._registeredComponents.add(l)},d._ssrRegister=u):t&&(u=s?function(){t.call(this,a(this.$root.$options.shadowRoot))}:function(e){t.call(this,r(e))}),u)if(d.functional){var f=d.render;d.render=function(e,t){return u.call(t),f(e,t)}}else{var p=d.beforeCreate;d.beforeCreate=p?[].concat(p,u):[u]}return o}; var n={name:"ElProDialog",model:{prop:"visible",event:"update:visible"},props:{title:{type:String,default:""},cancelBtnText:{type:String,default:"取消"},confirmBtnText:{type:String,default:"确定"},cancelBtnProps:{type:Object,required:!1,default:function(){return{}}},confirmBtnProps:{type:Object,required:!1,default:function(){return{}}},dialogOptions:{type:Object,required:!1,default:function(){return{}}},visible:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},btnLoading:{type:Boolean,default:!1},showAction:{type:Boolean,default:!0}},data:function(){return{fullscreen:!1}},computed:{showBtnLoading:{get:function(){return this.btnLoading},set:function(e){this.$emit("update:btnLoading",e)}},showVisible:{get:function(){return this.visible},set:function(e){this.$emit("update:visible",e)}},showLoading:{get:function(){return this.loading},set:function(e){this.$emit("update:loading",e)}},dialogProcessOptions:function(){return function(o){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?t(i,!0).forEach((function(t){e(o,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(i)):t(i).forEach((function(e){Object.defineProperty(o,e,Object.getOwnPropertyDescriptor(i,e))}))}return o}({closeOnClickModal:!0,top:"10vh",width:"60%",destroyOnClose:!1,appendToBody:!0,lockScroll:!0,showFullscreen:!1,draggable:!1,center:!1},this.dialogOptions||{})}},mounted:function(){this.dialogProcessOptions.draggable&&this.initDraggable()},methods:{handleOk:function(){this.$emit("ok")},handleCancel:function(){this.showVisible=!1,this.$emit("cancel")},processDrag:function(){var e=document.querySelector(".el-pro-dialog"),t=document.querySelector(".el-pro-dialog .el-dialog__header"),o=this.fullscreen,n=this.dialogProcessOptions.draggable;o&&n?(e.style.cssText+=";left:0px;top:0px;",t.style.cssText+=";cursor:default;user-select:none;"):!o&&n&&(t.style.cssText+=";cursor:move;user-select:none;"),n&&(e.style.cssText+=";left:0px;top:0px;")},closed:function(){var e=this.dialogProcessOptions.draggable;this.fullscreen=!1,e&&this.processDrag(),this.$emit("closed")},toggleFull:function(){this.fullscreen=!this.fullscreen,this.processDrag()},initDraggable:function(){this.$nextTick((function(){var e=document.querySelector(".el-pro-dialog"),t=document.querySelector(".el-pro-dialog .el-dialog__header");t.style.cssText+=";cursor:move;user-select:none;";var o=e.currentStyle||window.getComputedStyle(e,null);t.onmousedown=function(n){var i,l,s=n.clientX-t.offsetLeft,r=n.clientY-t.offsetTop,c=e.offsetWidth,a=e.offsetHeight,u=document.documentElement.clientWidth,d=document.documentElement.clientHeight,f=e.offsetLeft,p=u-e.offsetLeft-c,g=e.offsetTop,h=d-e.offsetTop-a,_=o.left,m=o.top;_&&m&&(_.includes("%")?(i=+u*(+_.replace(/%/g,"")/100),l=+d*(+m.replace(/%/g,"")/100)):(i=+_.replace(/px/g,""),l=+m.replace(/px/g,"")),document.onmousemove=function(t){var o=t.clientX-s,n=t.clientY-r;-o>f?o=-f:o>p&&(o=p),-n>g?n=-g:n>h&&(n=h),e.style.left="".concat(o+i,"px"),e.style.top="".concat(n+l,"px")},document.onmouseup=function(){document.onmousemove=null,document.onmouseup=null})}}))}}};var i=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-dialog",e._g(e._b({ref:"dialogRef",attrs:{"custom-class":"el-pro-dialog",fullscreen:e.dialogProcessOptions.fullscreen||e.fullscreen,visible:e.showVisible},on:{"update:visible":function(t){e.showVisible=t},closed:e.closed},scopedSlots:e._u([{key:"title",fn:function(){return[e.$slots.title?e._t("title"):o("div",{staticClass:"el-pro-dialog__header",class:[e.dialogProcessOptions.center?"justify-content-c":""]},[e._t("nameBefore"),e._v(" "),e._t("title",[o("span",{staticStyle:{"font-size":"18px"}},[e._v(e._s(e.title))])]),e._v(" "),e._t("nameAfter"),e._v(" "),e.dialogProcessOptions.showFullscreen?o("i",{staticClass:"dialog__icon",class:e.fullscreen?"el-icon-minus":"el-icon-full-screen",on:{click:e.toggleFull}}):e._e()],2)]},proxy:!0},e.$slots.footer&&!e.showAction?{key:"footer",fn:function(){return[e._t("footer")]},proxy:!0}:null],null,!0)},"el-dialog",e.dialogProcessOptions,!1),e.$listeners),[e._v(" "),o("el-scrollbar",{directives:[{name:"loading",rawName:"v-loading",value:e.showLoading,expression:"showLoading"}],class:e.fullscreen&&e.$slots.footer?"el-pro-dialog__content--footer":e.fullscreen&&!e.$slots.footer?"el-pro-dialog__content--fullscreen":"el-pro-dialog__content"},[o("div",{staticClass:"content__wrap"},[e._t("default")],2)]),e._v(" "),e.showAction?o("div",{attrs:{slot:"footer"},slot:"footer"},[e._t("beforeFooter"),e._v(" "),o("el-button",e._b({attrs:{size:"small"},on:{click:e.handleCancel}},"el-button",e.cancelBtnProps,!1),[e._v("\n      "+e._s(e.cancelBtnText)+"\n    ")]),e._v(" "),e._t("middleFooter"),e._v(" "),o("el-button",e._b({attrs:{type:"primary",size:"small",loading:e.showBtnLoading},on:{click:e.handleOk}},"el-button",e.confirmBtnProps,!1),[e._v("\n      "+e._s(e.confirmBtnText)+"\n    ")]),e._v(" "),e._t("afterFooter")],2):e._e()],1)};i._withStripped=!0;var l=o({render:i,staticRenderFns:[]},void 0,n,void 0,!1,void 0,void 0,void 0);return l.install=function(e){e.component(l.name,l)},l}));
